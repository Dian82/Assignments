% !TEX root = main.tex

\subsection{仿真模拟}
\qquad 采用表\ref{tab:test}给出的汇编程序代码段进行测试。注意指令的二进制编码应该对应到MIPS的每一个字段上，特别注意sll的书写，负数用补码表示等。生成二进制指令文件后，CPU将其读入指令存储器并执行，看波形结果。
% Table generated by Excel2LaTeX from sheet 'TrueTable'
\begin{table}[htbp]
  \centering\xiaowu
  \caption{测试代码段指令}
    \begin{tabular}{|l|l|r|l|l|l|l|}
    \hline
    \multicolumn{1}{|c|}{address} & \multicolumn{1}{c|}{instruction} & \multicolumn{1}{c|}{op} & \multicolumn{1}{c|}{rs} & \multicolumn{1}{c|}{rt} & \multicolumn{1}{c|}{rd/imm} & \multicolumn{1}{c|}{hex} \bigstrut\\
    \hline
    0x00000000 & addiu  \$1,\$0,8 & \multicolumn{1}{l|}{000010} & 00000 & 00001 & 0000 0000 0000 1000 & 0x08010008 \bigstrut\\
    \hline
    0x00000004 & ori  \$2,\$0,2 & \multicolumn{1}{l|}{010010} & 00000 & 00010 & 0000 0000 0000 0010 & 0x48020002 \bigstrut\\
    \hline
    0x00000008 & add  \$3,\$2,\$1 & \multicolumn{1}{l|}{000000} & 00010 & 00001 & 0001 1000 0000 0000 & 0x00411800 \bigstrut\\
    \hline
    0x0000000C & sub  \$5,\$3,\$2 & \multicolumn{1}{l|}{000001} & 00011 & 00010 & 0010 1000 0000 0000 & 0x04622800 \bigstrut\\
    \hline
    0x00000010 & and  \$4,\$5,\$2 & \multicolumn{1}{l|}{010001} & 00101 & 00010 & 0010 0000 0000 0000 & 0x44A22000 \bigstrut\\
    \hline
    0x00000014 & or  \$8,\$4,\$2 & \multicolumn{1}{l|}{010011} & 00100 & 00010 & 0100 0000 0000 0000 & 0x4C824000 \bigstrut\\
    \hline
    0x00000018 & sll  \$8,\$8,1 & \multicolumn{1}{l|}{011000} & 00000 & 01000 & 0100 0000 0100 0000 & 0x60084040 \bigstrut\\
    \hline
    0x0000001C & bne \$8,\$1,-2 ($\ne$,转18) & \multicolumn{1}{l|}{110001} & 01000 & 00001 & 1111 1111 1111 1110 & 0xC501FFFE \bigstrut\\
    \hline
    0x00000020 & slti  \$6,\$2,4 & \multicolumn{1}{l|}{011100} & 00010 & 00110 & 0000 0000 0000 0100 & 0x70460004 \bigstrut\\
    \hline
    0x00000024 & slti  \$7,\$6,0 & \multicolumn{1}{l|}{011100} & 00110 & 00111 & 0000 0000 0000 0000 & 0x70c70000 \bigstrut\\
    \hline
    0x00000028 & addiu \$7,\$7,8 & \multicolumn{1}{l|}{000010} & 00111 & 00111 & 0000 0000 0000 1000 & 0x08e70008 \bigstrut\\
    \hline
    0x0000002C & beq \$7,\$1,-2 ($=$,转28) & \multicolumn{1}{l|}{110000} & 00111 & 00001 & 1111 1111 1111 1110 & 0xC0E1FFFE \bigstrut\\
    \hline
    0x00000030 & sw  \$2,4(\$1) & \multicolumn{1}{l|}{100110} & 00001 & 00010 & 0000 0000 0000 0100 & 0x98220004 \bigstrut\\
    \hline
    0x00000034 & lw  \$9,4(\$1) & \multicolumn{1}{l|}{100111} & 00001 & 01001 & 0000 0000 0000 0100 & 0x9C290004 \bigstrut\\
    \hline
    0x00000038 & addiu  \$10,\$0,-2 & \multicolumn{1}{l|}{000010} & 00000 & 01010 & 1111 1111 1111 1110 & 0x080AFFFE \bigstrut\\
    \hline
    0x0000003C & addiu  \$10,\$10,1 & \multicolumn{1}{l|}{000010} & 01010 & 01010 & 0000 0000 0000 0001 & 0x094A0001 \bigstrut\\
    \hline
    0x00000040 & bltz \$10,-2 ($<0$,转3C) & \multicolumn{1}{l|}{110010} & 01010 & 00000 & 1111 1111 1111 1110 & 0xC940FFFE \bigstrut\\
    \hline
    0x00000044 & andi  \$11,\$2,2 & \multicolumn{1}{l|}{010000} & 00010 & 01011 & 0000 0000 0000 0010 & 0x404B0002 \bigstrut\\
    \hline
    0x00000048 & j  0x00000050 & \multicolumn{1}{l|}{111000} & 00000 & 00000 & 0000 0000 0001 0100 & 0xE0000014 \bigstrut\\
    \hline
    0x0000004C & or  \$8,\$4,\$2 & \multicolumn{1}{l|}{010011} & 00100 & 00010 & 0100 0000 0000 0000 & 0x4C824000 \bigstrut\\
    \hline
    0x00000050 & halt  & 111111 & 00000 & 00000 & 0000 0000 0000 0000 & 0xFC000000 \bigstrut\\
    \hline
    \end{tabular}%
  \label{tab:test}%
\end{table}%
