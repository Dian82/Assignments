% !TEX root = main.tex

\subsection{控制单元}
\label{sub:control_unit}
\qquad 由前面的分析，可以得到控制单元的编码表，见表\ref{tab:control_codes}。
% Table generated by Excel2LaTeX from sheet 'TrueTable'
\begin{sidewaystable}[htbp]
  \centering\xiaowu
  \caption{指令控制器编码}
    \begin{tabular}{|c|l|l|r|r|r|p{1cm}|p{1cm}|r|r|r|r|r|}
    \hline
          & \multicolumn{1}{c|}{指令} & \multicolumn{1}{c|}{op} & \multicolumn{1}{c|}{RegDst} & \multicolumn{1}{c|}{ExtSel} & \multicolumn{1}{c|}{RegWrite} & \multicolumn{2}{c|}{ALUSrcA/B} & \multicolumn{1}{c|}{ALUOp} & \multicolumn{1}{c|}{MemToReg} & \multicolumn{1}{c|}{MemWrite} & \multicolumn{1}{c|}{Branch} & \multicolumn{1}{c|}{Jump} \bigstrut\\
    \hline
    \multirow{3}[6]{*}{算术运算} & add rd, rs, rt & 000000 & 1     & x     & 1     & 0     & 0     & 000   & 0     & 0     & 0     & 0 \bigstrut\\
\cline{2-13}          & sub rd, rs, rt & 000001 & 1     & x     & 1     & 0     & 0     & 001   & 0     & 0     & 0     & 0 \bigstrut\\
\cline{2-13}          & addiu rt, rs, imm & 000010 & 0     & \textbf{1} & 1     & 0     & 1     & 000   & 0     & 0     & 0     & 0 \bigstrut\\
    \hline
    \multirow{4}[8]{*}{逻辑运算} & andi rt, rs, imm & 010000 & 0     & 0     & 1     & 0     & 1     & 100   & 0     & 0     & 0     & 0 \bigstrut\\
\cline{2-13}          & and rd, rs, rt & 010001 & 1     & x     & 1     & 0     & 0     & 100   & 0     & 0     & 0     & 0 \bigstrut\\
\cline{2-13}          & ori rt, rs, imm & 010010 & 0     & 0     & 1     & 0     & 1     & 011   & 0     & 0     & 0     & 0 \bigstrut\\
\cline{2-13}          & or rd, rs, rt & 010011 & 1     & x     & 1     & 0     & 0     & 011   & 0     & 0     & 0     & 0 \bigstrut\\
    \hline
    移位    & sll rd, rt, sa & 011000 & 1     & x     & 1     & 1     & 0     & 010   & 0     & 0     & 0     & 0 \bigstrut\\
    \hline
    比较    & slti rt, rs, imm & 011100 & 0     & 1     & 1     & 0     & 1     & 110   & 0     & 0     & 0     & 0 \bigstrut\\
    \hline
    \multirow{2}[4]{*}{访存} & sw rt, imm(rs) & 100110 & x     & 1     & 0     & 0     & 1     & 000   & x     & 1     & 0     & 0 \bigstrut\\
\cline{2-13}          & lw rt, imm(rs) & 100111 & 0     & 1     & 1     & 0     & 1     & 000   & 1     & 0     & 0     & 0 \bigstrut\\
    \hline
    \multirow{3}[6]{*}{分支} & beq rs, rt, imm & 110000 & x     & 1     & 0     & 0     & 0     & 001   & x     & 0     & 1     & 0 \bigstrut\\
\cline{2-13}          & bne rs, rt, imm & 110001 & x     & 1     & 0     & 0     & 0     & 001   & x     & 0     & 1     & 0 \bigstrut\\
\cline{2-13}          & bltz rs, imm & 110010 & x     & 1     & 0     & 0     & 0     & 110   & x     & 0     & 1     & 0 \bigstrut\\
    \hline
    跳转    & j addr & 111000 & x     & x     & 0     & x     & x     & x     & x     & 0     & 0     & 1 \bigstrut\\
    \hline
    停机    & halt  & 111111 & x     & x     & x     & x     & x     & x     & x     & x     & x     & x \bigstrut\\
    \hline
    \end{tabular}%
  \label{tab:control_codes}%
\end{sidewaystable}%